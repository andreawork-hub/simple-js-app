let pokemonRepository = function () { let t = []; function e(e) { "object" == typeof e && e.name && e.detailsUrl ? t.push(e) : console.log("pokemon is not correct") } function n() { return t } return { getAll: n, add: e, addListItem: function t(e) { pokemonRepository.loadDetails(e).then(function () { let t = $(".pokemon-list"), n = $('<li class="list-group-item" style="border: none"></li>'), o = $('<div class="card align-items-center justify-content-center bg-dark" style="width:250px ; border: 1px solid red ; border-radius:100% ; height:250px"></div>'), i = $('<button type="button" class="pokemon-button btn btn-danger" data-toggle="modal" data-target="#pokemonModal">Details </button>'); i.on("click", function (t) { !function t(e) { pokemonRepository.loadDetails(e).then(function () { var t; let n, o, i, a, p, l, r, s, c; t = e, n = $(".modal-body"), (o = $(".modal-title")).empty(), n.empty(), i = $("<h5>Pokemon: " + t.name + "</h5>"), a = $("<p>Height: " + t.height + " cm</p>"), p = $("<p>Weight: " + t.weight + " g</p>"), l = $("<p>Types: " + t.types + " </p>"), r = $("<p>Abilities: " + t.abilities + " </p>"), s = $('<img class="modal-img" style="width:40%">').attr("src", t.imageUrlFront), c = $('<img class="modal-img" style="width:40%">').attr("src", t.imageUrlBack), o.append(i), n.append(s), n.append(c), n.append(a), n.append(p), n.append(l), n.append(r) }) }(e) }); let a = $('<h5 class="li-title; text-uppercase">' + e.name + "</h5>").attr("style", "text-align: center ; color:white"), p = $('<img class="card-image" style="width:50%">').attr("src", e.imageUrlFront); o.append(p), o.append(a), o.append(i), n.append(o), t.append(n) }) }, loadList: function t() { return fetch("https://pokeapi.co/api/v2/pokemon/?limit=150").then(function (t) { return t.json() }).then(function (t) { t.results.forEach(function (t) { let n = { name: t.name, detailsUrl: t.url }; e(n), console.log(n) }) }).catch(function (t) { console.error(t) }) }, loadDetails: function t(e) { return fetch(e.detailsUrl).then(function (t) { return t.json() }).then(function (t) { e.imageUrlFront = t.sprites.front_default, e.imageUrlBack = t.sprites.back_default, e.height = t.height, e.weight = t.weight, e.types = t.types, e.types = t.types.map(t => t.type.name), e.abilities = t.abilities.map(t => t.ability.name) }).catch(function (t) { console.error(t) }) } } }(); pokemonRepository.loadList().then(function () { pokemonRepository.getAll().forEach(function (t) { pokemonRepository.addListItem(t) }) });