let pokemonRepository = function () { let t = []; function e(e) { "object" == typeof e && e.name && e.detailsUrl && t.push(e) } return document.getElementById("search-pokemon").addEventListener("keyup", (t => { t.preventDefault(); const e = document.querySelectorAll(".list-group-item"), n = t.target.value.toLowerCase(); e.forEach((function (t) { t.innerText.toLowerCase().indexOf(n) > -1 ? t.style.display = "" : t.style.display = "none" })) })), { getAll: function () { return t }, add: e, addListItem: function (t) { pokemonRepository.loadDetails(t).then((function () { let e = $(".pokemon-list"), n = $('<li class="list-group-item" style="border: none"></li>'), i = $('<div class="card align-items-center justify-content-center bg-dark" style="width:250px ; border: 1px solid red ; border-radius:100% ; height:250px"></div>'), o = $('<button type="button" class="pokemon-button btn btn-danger" data-toggle="modal" data-target="#pokemonModal">Details </button>'); o.on("click", (function (e) { !function (t) { pokemonRepository.loadDetails(t).then((function () { !function (t) { let e = $(".modal-body"), n = $(".modal-title"); n.empty(), e.empty(); let i = $("<h5>Pokemon: " + t.name + "</h5>"), o = $("<p>Height: " + t.height + " cm</p>"), a = $("<p>Weight: " + t.weight + " g</p>"), l = $("<p>Types: " + t.types + " </p>"), p = $("<p>Abilities: " + t.abilities + " </p>"), s = $('<img class="modal-img" style="width:40%">').attr("src", t.imageUrlFront), r = $('<img class="modal-img" style="width:40%">').attr("src", t.imageUrlBack); n.append(i), e.append(s), e.append(r), e.append(o), e.append(a), e.append(l), e.append(p) }(t) })) }(t) })); let a = $('<h5 class="li-title; text-uppercase">' + t.name + "</h5>").attr("style", "text-align: center ; color:white"), l = $('<img class="card-image" style="width:50%">').attr("src", t.imageUrlFront); i.append(l), i.append(a), i.append(o), n.append(i), e.append(n) })) }, loadList: function () { return fetch("https://pokeapi.co/api/v2/pokemon/?limit=150").then((function (t) { return t.json() })).then((function (t) { t.results.forEach((function (t) { e({ name: t.name, detailsUrl: t.url }) })) })).catch((function (t) { })) }, loadDetails: function (t) { let e = t.detailsUrl; return fetch(e).then((function (t) { return t.json() })).then((function (e) { t.imageUrlFront = e.sprites.front_default, t.imageUrlBack = e.sprites.back_default, t.height = e.height, t.weight = e.weight, t.types = e.types, t.types = e.types.map((t => t.type.name)), t.abilities = e.abilities.map((t => t.ability.name)) })).catch((function (t) { })) } } }(); pokemonRepository.loadList().then((function () { pokemonRepository.getAll().forEach((function (t) { pokemonRepository.addListItem(t) })) }));